# 周边游需求图谱分析

## 问题重述

### 问题一：文章分类

针对附件中的微信公众号新闻子表，根据其中公众号推文与文旅的相关度进行分类。与文旅相关的高频主题词可能包括：旅游，活动，交通，酒店，景区，假期，游客，农家乐等。

LDA 分类模型 没有大问题 完成
论文需要把流程图画了@ xc

### 问题二：产品热度分析

根据表格中对景区、酒店等旅游产品的实例和信息，将提取出的旅游产品进行提取。随后构建模型从多维度对产品的热度进行评价。

提取产品类型，热度评价模型（from LDA）
提取实体
论文，数学部分去看算法用了什么模型 @wxj


没有从文章里面提取实体；

### 问题三：图谱构建与分析

根据表格中的OTA、UGC数据，对旅游产品进行关联度分析，找出以景区、酒店、餐饮为核心的强关联模式。并在此基础上进行可视化分析。

知识图谱关系提取
构建关系

GNN 根据关系获取 embeddings，计算关系度
论文 @xc

### 问题四：疫情前后需求变化分析

基于历史数据，分析疫情前后旅游产品变化。

景点和酒店的关联，景点和餐饮的关联 发生变化



## 问题分析

### 问题一

利用附件中提供的公众号推文和游记攻略，本文需要构建适当模型根据其与文旅主题的相关性进行样本的有效划分。

首先，公众号推文包含标题、发表时间和正文信息。经过初步观察，推文标题和正文中都包含相与文旅相关的主题词，但其中有些正文内容收到其本身是广告或图片的形式，导致其内容体现在正文文本上与文旅主题相关程度不高。针对这类数据的预处理直接影响后续文本分类模型的好坏。

其次，游记攻略相关信息包括城市、游记标题、发布时间、出发时间、出行天数、人物、费用及正文。经过初步观察，游记攻略的标题和正文蕴含着丰富文本信息，但其中同样存在一些不相关的内容需要甄别，这也对后续的分类模型带来一定的挑战。

### 问题二

对旅游产品进行特征工程，最直观的为旅游产品被提及的次数。其他可能的思路包括旅游产品评价的高频词提取，评论情感倾向识别。

### 问题三

关联度构建可以考虑由公众号新闻和攻略出发进行挖掘。

## 问题一建模与求解

### 数据预处理

根据前文分析，公众号推文

### 模型构建

针对已有的文本，本文考虑构建LDA（Latent Dirichlet Allocation）主题模型实现文章与文旅相关性的划分。LDA模型利用了贝叶斯的思想，将每个文本和每个主题词的先验分布均视为狄利克雷（Dirichlet）分布，其中文本词向量一致，目标是求语料库的分布。
$$
\begin{equation}
\theta_d \sim Dirichlet(\alpha) \\
\beta_k \sim Dirichlet(\eta)
\end{equation}
$$
其中随机变量$\theta_d$与$\beta_k$分别代表第$d$条文本和第$k$个主题词，$\alpha$和$\eta$分别代表分布的超参数向量，维度分别为$K$和$V$。对于第$d$条文本中的第$n$个词，根据多项分布可以得到其主题编号$z_{dn} \sim multi(\theta_d)$和词分布$w_{dn} \sim multi(\beta_{z_{dn}})$。则$(\alpha \rightarrow \theta_d \rightarrow z_d)$组成了Dirichlet-multi共轭分布。故能够得到$\theta_d$的后验分布$Dirichlet(\theta_d|\alpha + n_d)$，同样可以得到$\beta_k$的后验分布$Dirichlet(\beta_k|\eta + n_k)$。LDA模型的任务便是需要得到收敛的主题词$\beta$分布。

至于LDA模型的求解，本文选用基于变分推断的EM算法。

